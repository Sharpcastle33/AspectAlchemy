package com.gmail.sharpcastle33.listeners;

import org.bukkit.Material;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.inventory.BrewEvent;
import org.bukkit.event.inventory.InventoryMoveItemEvent;
import org.bukkit.inventory.Inventory;

import com.gmail.sharpcastle33.Constants;

/**
 * Handles an exploit that allow for manipulation of the Alembic while in
 * progress
 * 
 * @author Sharpcastle33
 */
public class AlembicExploitListener implements Listener {

	@EventHandler
	public void hopperExploit(InventoryMoveItemEvent event) {
		Inventory source = event.getSource();
		Inventory destination = event.getDestination();

		if (source.getName() == Constants.ALEMBIC_CHEST_NAME) {
			event.setCancelled(true);
		}

		if (destination.getName() == Constants.ALEMBIC_CHEST_NAME) {
			event.setCancelled(true);
		}
		
		if (destination.getName() == Constants.ALEMBIC_BREWINGSTAND_NAME) {
			if(event.getItem().getType() == Material.BLAZE_POWDER){
				event.setCancelled(true);
			}
		}

	} // hopperExploit
	
	@EventHandler
	public void brewDisable(BrewEvent event) {
		event.setCancelled(true);
	}

} // class
